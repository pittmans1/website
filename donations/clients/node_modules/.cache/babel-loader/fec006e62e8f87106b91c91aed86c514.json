{"ast":null,"code":"import _toConsumableArray from\"/Users/scottpittman/Desktop/website/donations/clients/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/scottpittman/Desktop/website/donations/clients/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/scottpittman/Desktop/website/donations/clients/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{loadStripe}from\"@stripe/stripe-js\";import{Elements,StripeProvider}from\"@stripe/react-stripe-js\";import{products}from'./components/Donations';import Cart from\"./components/Cart/Cart\";import CheckoutForm from\"./components/CheckoutForm/CheckoutForm\";import Products from\"./Products\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import\"./styles.css\";// Make sure to call loadStripe outside of a component’s render to avoid\n// recreating the Stripe object on every render.\n// loadStripe is initialized with your real test publishable API key.\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),itemsInCart=_useState2[0],setItemsInCart=_useState2[1];var handleAddToCartClick=function handleAddToCartClick(id){setItemsInCart(function(itemsInCart){var itemInCart=itemsInCart.find(function(product){return product.id===id;});if(itemInCart){return itemsInCart.map(function(product){if(product.id!==id)return product;return _objectSpread(_objectSpread({},itemInCart),{},{quantity:product.quantity+1});});}var product=products.find(function(product){return product.id===id;});return[].concat(_toConsumableArray(itemsInCart),[_objectSpread(_objectSpread({},product),{},{quantity:1})]);});};var totalCost=itemsInCart.reduce(function(acc,product){return acc+product.price*product.quantity;},0);var promise=loadStripe(\"pk_test_51Ii486HxoL2opcCfdWK7D7yYKt1v9GRtGSwPXPn5UoAbV1l26CLzZ0HaN9aZBIx5Vsw8BfGfMQ0sRqCz0ckWdmHO00QmpwselZ\");return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"div\",{children:products.map(function(product){return/*#__PURE__*/_jsx(Products,{name:product.name,desc:product.desc,price:product.price,img:product.img,onAddToCartClick:function onAddToCartClick(){return handleAddToCartClick(product.id);}},product.id);})}),/*#__PURE__*/_jsx(Cart,{itemsInCart:itemsInCart,totalCost:totalCost}),itemsInCart.length>0&&/*#__PURE__*/_jsx(Elements,{stripe:promise,children:/*#__PURE__*/_jsx(CheckoutForm,{totalCost:totalCost})})]});}/** \n <Elements stripe={promise}>\n <CheckoutForm />\n </Elements>\n * \n*/","map":{"version":3,"sources":["/Users/scottpittman/Desktop/website/donations/clients/src/App.js"],"names":["React","useState","loadStripe","Elements","StripeProvider","products","Cart","CheckoutForm","Products","toast","App","itemsInCart","setItemsInCart","handleAddToCartClick","id","itemInCart","find","product","map","quantity","totalCost","reduce","acc","price","promise","name","desc","img","length"],"mappings":"+ZAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAASC,UAAT,KAA2B,mBAA3B,CACA,OAASC,QAAT,CAAmBC,cAAnB,KAAyC,yBAAzC,CACA,OAAQC,QAAR,KAAuB,wBAAvB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,YAAP,KAAyB,wCAAzB,CAEA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,OAASC,KAAT,KAAsB,gBAAtB,CAEA,MAAO,uCAAP,CAEA,MAAO,cAAP,CAEA;AACA;AACA;wFACA,cAAe,SAASC,CAAAA,GAAT,EAAe,eACOT,QAAQ,CAAC,EAAD,CADf,wCACvBU,WADuB,eACVC,cADU,eAE9B,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAAAC,EAAE,CAAI,CACjCF,cAAc,CAAC,SAAAD,WAAW,CAAI,CAC5B,GAAMI,CAAAA,UAAU,CAAGJ,WAAW,CAACK,IAAZ,CAAiB,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACH,EAAR,GAAeA,EAAnB,EAAxB,CAAnB,CAEA,GAAGC,UAAH,CAAc,CACZ,MAAOJ,CAAAA,WAAW,CAACO,GAAZ,CAAgB,SAAAD,OAAO,CAAI,CAChC,GAAGA,OAAO,CAACH,EAAR,GAAeA,EAAlB,CAAsB,MAAOG,CAAAA,OAAP,CACtB,sCAAWF,UAAX,MAAuBI,QAAQ,CAAEF,OAAO,CAACE,QAAR,CAAmB,CAApD,GACD,CAHM,CAAP,CAID,CAED,GAAMF,CAAAA,OAAO,CAAGZ,QAAQ,CAACW,IAAT,CAAc,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACH,EAAR,GAAeA,EAAnB,EAArB,CAAhB,CACA,mCAAWH,WAAX,kCAA4BM,OAA5B,MAAqCE,QAAQ,CAAE,CAA/C,KACD,CAZa,CAAd,CAaD,CAdD,CAgBE,GAAMC,CAAAA,SAAS,CAAGT,WAAW,CAACU,MAAZ,CAChB,SAACC,GAAD,CAAML,OAAN,QAAkBK,CAAAA,GAAG,CAAGL,OAAO,CAACM,KAAR,CAAgBN,OAAO,CAACE,QAAhD,EADgB,CAEhB,CAFgB,CAAlB,CAIA,GAAMK,CAAAA,OAAO,CAAGtB,UAAU,CAAC,6GAAD,CAA1B,CACA,mBACC,qCACE,qBACIG,QAAQ,CAACa,GAAT,CAAa,SAAAD,OAAO,qBACnB,KAAC,QAAD,EAEC,IAAI,CAAEA,OAAO,CAACQ,IAFf,CAGC,IAAI,CAAER,OAAO,CAACS,IAHf,CAIC,KAAK,CAAET,OAAO,CAACM,KAJhB,CAKC,GAAG,CAAEN,OAAO,CAACU,GALd,CAMC,gBAAgB,CAAE,kCAAKd,CAAAA,oBAAoB,CAACI,OAAO,CAACH,EAAT,CAAzB,EANnB,EACKG,OAAO,CAACH,EADb,CADmB,EAApB,CADJ,EADF,cAaG,KAAC,IAAD,EAAM,WAAW,CAAEH,WAAnB,CAAgC,SAAS,CAAES,SAA3C,EAbH,CAcIT,WAAW,CAACiB,MAAZ,CAAqB,CAArB,eACG,KAAC,QAAD,EAAU,MAAM,CAAEJ,OAAlB,uBACE,KAAC,YAAD,EAAc,SAAS,CAAEJ,SAAzB,EADF,EAfP,GADD,CAsBD,CAGD;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, {useState} from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements, StripeProvider } from \"@stripe/react-stripe-js\";\nimport {products} from './components/Donations'\nimport Cart from \"./components/Cart/Cart\"\nimport CheckoutForm from \"./components/CheckoutForm/CheckoutForm\"\n\nimport Products from \"./Products\"\nimport { toast } from \"react-toastify\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport \"./styles.css\";\n\n// Make sure to call loadStripe outside of a component’s render to avoid\n// recreating the Stripe object on every render.\n// loadStripe is initialized with your real test publishable API key.\nexport default function App() {\nconst [itemsInCart, setItemsInCart]= useState([])\nconst handleAddToCartClick = id => {\n  setItemsInCart(itemsInCart => {\n    const itemInCart = itemsInCart.find(product => product.id === id);\n\n    if(itemInCart){\n      return itemsInCart.map(product => {\n        if(product.id !== id) return product;\n        return {...itemInCart, quantity: product.quantity + 1};\n      })\n    }\n\n    const product = products.find(product => product.id === id);\n    return [...itemsInCart, {...product, quantity: 1}];\n  })\n}\n\n  const totalCost = itemsInCart.reduce(\n    (acc, product) => acc + product.price * product.quantity,\n    0\n  )\n  const promise = loadStripe(\"pk_test_51Ii486HxoL2opcCfdWK7D7yYKt1v9GRtGSwPXPn5UoAbV1l26CLzZ0HaN9aZBIx5Vsw8BfGfMQ0sRqCz0ckWdmHO00QmpwselZ\")\n  return (\n   <main>\n     <div>\n        {products.map(product => (\n          <Products \n          key={product.id}\n           name={product.name}\n           desc={product.desc}\n           price={product.price}\n           img={product.img}\n           onAddToCartClick={()=> handleAddToCartClick(product.id)}\n           />\n        ))}\n      </div>\n      <Cart itemsInCart={itemsInCart} totalCost={totalCost}/>\n      {itemsInCart.length > 0 && (\n          <Elements stripe={promise}>\n            <CheckoutForm totalCost={totalCost}/>\n          </Elements>\n      )}\n      </main>\n  );\n}\n\n\n/** \n <Elements stripe={promise}>\n <CheckoutForm />\n </Elements>\n * \n*/"]},"metadata":{},"sourceType":"module"}